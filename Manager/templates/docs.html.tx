<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="Create a website from a git repo in one click." />
        <meta name="author" content="MarkdownSite" />
        <title>MarkdownSite</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="/favicon.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="/css/styles.css" rel="stylesheet" />
        <style>
            h2 { margin-top: 2em; }
            h3 { margin-top: 1.5em; }
        </style>
        <script defer data-api="/api/event" data-domain="markdownsite.com" src="/js/script.js"></script>
}

    </head>
    <body>
%%      include '_nav.tx' { nav_selected => 'docs' }

        <!-- Examples Section-->
        <section class="bg-light py-5 border-bottom">
            <div class="container">
                <div class="row">
                    <h1>MarkdownSite Documentation</h1>
                    <p>These docs should get you up and running with your repo hosted on MarkdownSite.</p>
                    <div class="col-lg-8">
                        <h2 id="md_ssg">MarkdownSite &amp; Static Site Generators</h2>
                        <p>These docs should get you up and running with your repo hosted on MarkdownSite.</p>
                        <p>The public directory at the root of your repository is served statically.  Configure your SSG to place your
                        website in this directory and commit it to git.  MarkdownSite will be able to serve your content then.</p>

                        <p>If you would like to change the directory that MarkdownSite scans for static files, add the key
                        <strong>webroot</strong> to <span style="font-family: monospace">.markdownsite.yml</span> in the root
                        of your repo and set the value as the relative path to the directory containing your site.</p>


                        <h3>Hugo</h3>
                        <p>
                            Ensure that you have built the website with <span style="font-family: monospace">hugo -D</span>, and that the 
                            <span style="font-family: monospace">public/</span> directory is commited to the git repo.  Once this is done, submit
                            your repo on the <a href="[% $c.url_for('show_homepage') %]">homepage</a> and your site should be hosted.
                        </p>
                       

                        <h3>More?</h3>
                        <p>Please open a pull request with instructions for other Static Site Generators!</p>

                        <hr />

                        <h2 id="md_mds" >MarkdownSite - Building Sites From Markdown Files</h2>

                        <h3>Markdown File Format</h3>

                        <p>
                            Markdown files should be named with an <span style="font-family: monospace">.md</span> extention.  
                            If a markdown file contains a header section with key value pairs to override behavior, it must be
                            formated as follows.
                        </p>

<pre style="padding: 0.5em; border: 1px solid #ccc">
---
key1: value
key2: value
---

Markdown Content
</pre>

                        <p>
                        All content between the  <span style="font-family: monospace">---</span> marks is treated as configuration data,
                        and may be used in templates, or in changing the behavior of how MarkdownSite handles this page.  Valid JSON and
                        YAML data be be used.
                        </p>

                        <p>Everything after this is treated as markdown content.</p>

                        <h3>Key Value Pairs &amp; Their Purpose</h3>
                        <p>
                            The <strong>web.path</strong> key can be used to override the route that the markdown file responds to.
                        </p>
                        <p>
                            The <strong>theme</strong> key can be used to override the theme that the page will use.  Themes contain one or more templates.
                        </p>
                        <p>
                            The <strong>template</strong> key can be used to override the template that the page will use.
                        </p>


                        <h3>Styling Your MarkdownSite</h3>
                        <p>
                            You can add a file, <span style="font-family: monospace">public/style.css</span> to style your MarkdownSite.
                        </p>

                        <h3>How URLs work with MarkdownSite</h3>

                        <p>If you do nothing, a file named <span style="font-family: monospace">/site/about.md</span> becomes 
                        <span style="font-family: monospace">/about.html</span>.</p>
                        
                        <p>If you do nothing, a file named <span style="font-family: monospace">/site/about/index.md</span> becomes 
                        <span style="font-family: monospace">/about</span>.</p>

                        <p>You can use as many sub directories as you'd like, so that <span style="font-family: monospace">site/people/alice/index.md</span>
                        becomes <span style="font-family: monospace">/people/alice</span> or <span style="font-family: monospace">site/people/alice.md</span>
                        becomes <span style="font-family: monospace">/people/alice.html</span>.</p>

                        <p>Finally, you can directly control the URL by setting <strong>web.path</strong> in the file header section.</p>
                        
                        <hr />

                        <h2>MarkdownSite - Configuration</h2>
                        
                        <p>MarkdownSite accepts a configuration file from your repository that can change its behavior.  See this following example.</p>


                        <pre style="padding: 0.5em; border: 1px solid #ccc">
---
domain:  foobar.markdownsite.net
webroot: other/public
site:    content
                        </pre>

                        <p>The <strong>webroot</strong> option controls where static website files are loaded from.</p>

                        <p>The <strong>site</strong> option controls where markdown files are loaded from.</p>
                        
                        <p>The <strong>domain</strong> option will set the domain name.  This option is only available to folks who support MarkdownSite on GitHub.</p>
                        
                        <h2>MarkdownSite - Allow Restricted Access</h2>

                        <p>MarkdownSite will clone your repository using its private SSH key.  Add our <a href="/sshkey.txt">public key</a> to your repo to enable access.</p>

                    </div> 
                    <!-- Side widgets-->
                    <div class="col-lg-4">
                        <div class="card mb-4">
                            <div class="card-header">Need Help?</div>
                            <div class="card-body">
                                <p>You could open an issue on <a href="https://github.com/symkat/MarkdownSite/">the repo on GitHub</a>.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer-->
        <footer class="py-5 bg-dark">
            <div class="container px-5"><p class="m-0 text-center text-white">Thanks for checking out MarkdownSite!</p></div>
        </footer>

        <!-- Bootstrap core JS-->
        <script src="/js/bootstrap.bundle.min.js"></script>

        <!-- Core theme JS-->
        <script src="/js/scripts.js"></script>
    </body>
</html>
